<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" href="css/style.css">
    <script defer src="js/fonction.js"></script>
   <link href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-tomorrow.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
    <title>Les Fonctions</title>
</head>
<body>

    <main>
        <h1>Les Fonctions</h1>
        <p>Une fonction est un bloc de code réutilisable, qui effectue une <b>tache préscise</b>.</p>
        <p>Elle permet d'organiser ton code, et d'éviter les répétition, et rend ton code plus lisible</p>

             <pre class="line-numbers">
            <code class="language-javascript">
                function nomDeLaFonction() {
                    // initial-scale à éxécuter
                }
            </code>
         </pre>

         <h3>Comment les ranges t-on dans le code ?</h3>
         <p>Les fonctions principales sont ranger plus vers le haut, que les fonctions "utilitaires"</p>

              <pre class="line-numbers">
            <code class="language-javascript">
              const panier = [
    {name: "Pomme", price: 2, quantity: 5},
    {name: "Kiwi", price: 1, quantity: 50},
    {name: "Mangue", price: 9, quantity: 25},
]


// Fonction qui additionne deux nombres

// Fonction utilitaire

function add(nbrA, nbrB){
    return nbrA+ nbrB
}

// autre fonction utilitaire

function multiply(nbrA, nbrB){
    return nbrA * nbrB;
}


//Fonction principale qui va calculer le prix total du panier

function calculatePriceCart(cart){
    // Avant de calculer on va initialiser le total.
    let total = 0;
    for (let i = 0; i < cart.length; i++) {
        // POur faciliter la lecture on remonne élément actuel de la boucle par une variable plus sipmle a ecrire
        const item = cart[i];
        // Le retour de la fonction multiply "injecte" son resulta dans itemPriceTotal
        const itemPriceTotal = multiply(item.price, item.quantity)
        total = add(total, itemPriceTotal)
    }
    return total
}

console.log(calculatePriceCart(panier))
            </code>
         </pre>

         <h3>Les arguments</h3>
         <p>Un argument est une valeur qu'on donne à une fonction quand on l'appelle, pour qu'elle travail avec cette valeur</p>
         <ul>
            <li>Quand on la déclaere, on parle de parametres</li>
            <li>Quand on appelle la fonction, on parle d'arguments</li>
         </ul>

              <pre class="line-numbers">
            <code class="language-javascript">
              function bonjour("Bonjour" + prenom) {
                console.log(prenom);
              }
              bonjour ("Jean-Michel");

            </code>
         </pre>

         <h2>Plusieurs arguments</h2>
         <p>Une fonction peut avoir autant de parametre que vous voulez, et tu dois passer le même nombres d'arguments quand tu l'appelle</p>
         <p>Si le nombre d'argument est en trop ou qu'il en manque, la fonction retourne undefined</p>

               <pre class="line-numbers">
            <code class="language-javascript">
              
                function add(nbrA, nbrB){
                     return nbrA+ nbrB
                }

                console.log(add(7, 19)); // 26

            </code>
         </pre>
         
         <h3>Valeurs par defalt</h3>

                <pre class="line-numbers">
            <code class="language-javascript">
              function bonjour(prenom = "Sébastien") {
                console.log(prenom);
              }
              bonjour (); // Bonjour Sébastien

            </code>
         </pre>

         <p>ATTENTION</p>

               <pre class="line-numbers">
            <code class="language-javascript">
              function Abcd(a , b = 45, c) { // erreur les parametre optionnel doivent etre ecris en dernier 
                //// code de la fonction ////
              }
           
                ///// VERSION CORRIGER

                  function Abcd(a , c, b = 45) { // erreur les parametre optionnel doivent etre ecris en dernier 
                //// code de la fonction ////
                }

            </code>
         </pre>

          <input id="texte" type="text" placeholder="Truc Muche Machin Chose !!! ">
          <button id="ajouter">Ajouter</button>
          <ul id="liste"></ul>

          <h2>LES FONCTION FLECHEES</h2>
          <p>Il existe une syntaxe plus simple et consise pour crer des fonctions, elle sont appeler "fonction flechées"</p>
          <div id="wrapper">
            <button id="btn-arrow">Test fonction fléchées</button>
          </div>

              <pre class="line-numbers">
            <code class="language-javascript">
              
                  // FONCTION FLECHEES

//function add(nbrA, nbrB){
  //  return nbrA + nbrB
// }

let sum = (a, b) => a + b;
console.log (sum (12, 15)) // = 27

// Quand il y a qu'un seul parametre les parenthese sont facultatives

let double = a => a * 2
console.log (double (140))

// fonction flechee en plusieur lignes

let calc = (a, b, c) => {
  let d = a * b;
  let e = d - c;
  return d - c;
}

console.log(calc(14, 2, 12))

/// autre exemple

let maj = str => str.toUpperCase ()
console.log(maj("coucou"));

// probleme avec this

// exemple normal

let arrow = () => {
  document.addEventListener('click', () => {
    console.log(this)
  })
}

arrow();

const btnArrow = document.getElementById("btn-arrow");

btnArrow.addEventListener("click", () => {
  console.log(this)
})

            </code>
         </pre>

         <h3>Conslusion sur les fonctions flécher</h3>
         <ul>
          <li>Pour : Utiliser les fonctions flécher pour les callback, les fonctions simple et les fonctions anonymes</li>
          <li>Contre : Ne pas les utiliser quand qu'on à besoin du mot clé "this" et "constructor"</li>
         </ul>

    </main>
    
</body>
</html>